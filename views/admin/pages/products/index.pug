extends ../../layouts/default.pug
include ../../mixins/filter-status.pug
include ../../mixins/search.pug


block main
    h1 Products Page

    .card.mb-3
        .card-header Filter and  Search
        .card-body 
            .row
                .col-5
                    +filter-status(filterStatus)

                .col-5
                    +search(keyword)


    .card.mb-3 
        .card-header List
        .card-body
            table.table.table-hover.table-sm 
                thead
                    tr
                        th Order 
                        th Image
                        th Title 
                        th Price
                        th Status
                        th Action

                tbody 
                    each item,index in products
                        tr 
                            td #{index+1}
                            td  
                                img(src="https://cdn.dummyjson.com/products/images/beauty/Powder%20Canister/thumbnail.png",
                                    alt=item.title
                                    width="80px"
                                    height="auto"
                                )
                            td #{item.title}          
                            td #{item.price}$
                            td 
                                if(item.status=="active")
                                    a(href="#" class="badge badge-success") Available
                                else 
                                    a(href="#" class="badge badge-danger") Unavailable
                            td 
                                button(class="btn btn-warning btn-sm") Modify
                                button(class="btn btn-danger btn-sm ml-1") Remove


    nav     
        ul(class="pagination")
            if(pagination.currentPage>1) 
                li(class="page-item")    
                    button(
                        class="page-link"
                        button-pagination=pagination.currentPage - i
                    ) Home

            if(pagination.currentPage>1) 
                li(class="page-item")    
                    button(
                        class="page-link"
                        button-pagination=pagination.currentPage - 1
                    ) Previous
            - for (var i = 1; i <= pagination.totalPages;i++)
                li(class=`page-item ${pagination.currentPage== i ? "active" : ""}`)  
                    button(
                        class="page-link"
                        button-pagination=i
                    ) #{i}
            if(pagination.currentPage<pagination.totalPages) 
                li(class="page-item")    
                    button(
                        class="page-link"
                        button-pagination=pagination.currentPage + 1
                    ) Next
            if(pagination.currentPage<pagination.totalPages)          
                li(class="page-item")    
                    button(
                        class="page-link"
                        button-pagination=pagination.totalPages
                    ) End                    